<!DOCTYPE html>
<html>
<head>
  <title>Start Chat</title>
  <style>
    .chat-button {
      background-color: #4CAF50;
      border: none;
      color: white;
      padding: 15px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
    }
  </style>
</head>
<body>
<button class="chat-button" onclick="startChat()">Start Chat</button>

<script type='text/javascript'>
  // Load Embedded Service Chat
  var initESW = function(gslbBaseURL) {
    embedded_svc.settings.displayHelpButton = true; // Display the help button
    embedded_svc.settings.language = ''; // For setting the language

    // Pre-populate fields
    embedded_svc.settings.extraPrechatFormDetails = [
      {
        "label": "First Name",
        "value": "Jonh",
        "transcriptFields": ["FirstName__c"]
      }, {
        "label": "Last Name",
        "value": "Doe",
        "transcriptFields": ["LastName__c"]
      }, {
        "label": "Email",
        "value": "Doe@gmail.com",
        "transcriptFields": ["Email__c"]
      }
    ];

    // Set directToButtonRouting
    embedded_svc.settings.directToButtonRouting = function(prechatFormData) {
      return '573Pw000002FmXp'; // Replace with your Chat Button ID
    };

    // Initialize the chat
    // embedded_svc.init(
    //         'https://tipico--wordpress.sandbox.my.salesforce.com',
    //         'https://tipico--wordpress.sandbox.my.salesforce-sites.com/chat',
    //         gslbBaseURL,
    //         '572Pw000004yHRt',
    //         '00DPw000006X0HC'
    // );

    embedded_svc.init(
            'https://tipico--wordpress.sandbox.my.salesforce.com',
            'https://tipico--wordpress.sandbox.my.salesforce-sites.com/chat',
            gslbBaseURL,
            '00DPw000006X0HC',
            'testWP',
            {
              baseLiveAgentContentURL: 'https://c.la12s-core1.sfdc-cehfhs.salesforceliveagent.com/content',
              deploymentId: '572Pw000004yHRt',
              buttonId: '573Pw000002FmXp',
              baseLiveAgentURL: 'https://d.la12s-core1.sfdc-cehfhs.salesforceliveagent.com/chat',
              eswLiveAgentDevName: 'testWP',
              isOfflineSupportEnabled: false
            }
    );
  };

  // Function to start chat
  function startChat() {
    if (!window.embedded_svc) {
      var s = document.createElement('script');
      // s.setAttribute('src', 'https://yourInstance.force.com/embeddedservice/5.0/esw.min.js');
      s.setAttribute('src', 'https://tipico--wordpress.sandbox.my.salesforce.com/embeddedservice/5.0/esw.min.js');
      s.onload = function() {
        initESW(null);
      };
      document.body.appendChild(s);
    } else {
      initESW(null);
    }
  }
</script>
</body>
</html>
